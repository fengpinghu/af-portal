{% extends "base.html" %}

{% block title %} Hardware {% endblock %}

{% block body %}
<section>
    <div class="container">
        <nav aria-label="breadcrumb">
            <ol class="breadcrumb">
                <li class="breadcrumb-item"><a class="text-decoration-none" href="{{ url_for('home') }}">Home</a></li>
                <li class="breadcrumb-item active" aria-current="page">Hardware</li>
            </ol>
        </nav>
        <div class="container col-sm-10">
            <table class="table table-bordered caption-top">
                <caption>Hardware information</caption>
                <tr>
                    <td>We have 35 compute nodes.</td>
                    <td>
                        <ul class="list-unstyled mb-0">
                            <li>Each node has two AMD EPYC 7402 CPUs at 2.8 GHz with 48C/96T.</li>
                            <li>Each node has 512 GB DDR4 SDRAM.</li>
                            <li>Each node has two 960 GB SSD for disk storage.</li>
                        </ul>
                    </td>
                </tr>
                <tr>
                    <td>We have 7 GPU nodes.</td>
                    <td>
                        <ul class="list-unstyled mb-0">
                            <li>Users can accelerate their notebooks by requesting GPUs from a GPU node.</li>
                            <li>We have a variety of GPU choices.</li>
                            <li>You can see a table of our GPU choices <a id="gpu-products-link" class="text-decoration-none" role="button">here.</a></li>
                        </ul>
                    </td>
                </tr>
                <tr>
                    <td>We have a Ceph file system.</td>
                    <td>
                        <ul class="list-unstyled mb-0">
                            <li>It is mounted on the /data directory.</li>
                            <li>It has 3 PB of spinning disk storage.</li>
                            <li>It has 400 TB of SSD storage.</li>
                        </ul>
                    </td>
                </tr>
                <tr>
                    <td>We have 2 network switches.</td>
                    <td>
                        <ul class="list-unstyled mb-0">
                            <li>We have two Juniper QFX5120 switches.</li>
                            <li>They have 40 Gbps bandwidth each.</li>
                            <li>They have 48 10/25GbE SFP28 ports each.</li>
                        </ul>
                    </td>
                </tr>
            </table>
        </div>
    </div>
    <div id="gpuProducts" class="modal fade" role="dialog">
        <div class="modal-dialog" style="max-width: 600px">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">GPU Instances</h4>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p>Here is a table of our GPU instances.</p>
                    <table class="table table-hover table-bordered nowrap w-100">
                        <thead>
                            <tr>
                                <th>GPU Instance</th>
                                <th>Count</th>
                                <th>Avail.</th>
                                <th>Memory (MB)</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for gpu in gpu_products %}
                            <tr>
                                <td>{{ gpu["product"] }}</td>
                                <td>{{ gpu["count"] }}</td>
                                <td>{{ gpu["available"] }}</td>
                                <td>{{ gpu["memory"] }}</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
</section>
<script type="text/javascript">
$(document).ready(function() {
    $("#gpu-products-link").click(function () {
        $("#gpuProducts").modal("show");
    });
});    
</script>
{% endblock %}